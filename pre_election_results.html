<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elections - Pre-Election Results</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
            color: #333;
            transition: background-color 0.3s, color 0.3s;
        }

        /* Dark Mode */
        body.dark-mode {
            background-color: #121212;
            color: #e0e0e0;
        }

        /* Navigation Bar */
        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #333;
            padding: 10px 20px;
            transition: background-color 0.3s;
        }

        body.dark-mode .navbar {
            background-color: #1f1f1f;
        }

        .navbar a {
            color: white;
            text-decoration: none;
            padding: 8px 16px;
            font-size: 1.2rem;
            transition: color 0.3s;
        }

        body.dark-mode .navbar a {
            color: #bb86fc;
        }

        .navbar .home-btn {
            font-weight: bold;
        }

        .navbar .menu-btn {
            font-size: 1.5rem;
            cursor: pointer;
        }

        .dropdown-menu {
            display: none;
            position: absolute;
            right: 20px;
            background-color: white;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            margin-top: 10px;
            overflow: hidden;
            z-index: 1000;
            transition: background-color 0.3s;
        }

        body.dark-mode .dropdown-menu {
            background-color: #1f1f1f;
        }

        .dropdown-menu a {
            color: #333;
            padding: 10px 20px;
            display: block;
            text-align: left;
            text-decoration: none;
            transition: background-color 0.3s, color 0.3s;
        }

        body.dark-mode .dropdown-menu a {
            color: #e0e0e0;
        }

        .dropdown-menu a:hover {
            background-color: #f4f4f4;
        }

        body.dark-mode .dropdown-menu a:hover {
            background-color: #333;
        }

        .dropdown-menu .mode-toggle {
            cursor: pointer;
            padding: 10px 20px;
            font-size: 1.2rem;
            background: none;
            border: none;
            text-align: left;
            width: 100%;
            color: #333;
            transition: background-color 0.3s, color 0.3s;
        }

        body.dark-mode .dropdown-menu .mode-toggle {
            color: #e0e0e0;
        }

        body.dark-mode .dropdown-menu .mode-toggle:hover {
            background-color: #333;
        }

        /* Main Content */
        h1,
        h2 {
            font-size: 2.5rem;
            text-align: center;
            margin: 20px 0;
            color: #333;
            transition: color 0.3s;
        }

        body.dark-mode h1,
        body.dark-mode h2 {
            color: #e0e0e0;
        }

        .container {
            width: 80%;
            margin: auto;
            overflow: hidden;
            padding: 20px;
        }

        table {
            width: 100%;
            margin: 20px 0;
            border-collapse: collapse;
            background-color: white;
            transition: background-color 0.3s;
        }

        body.dark-mode table {
            background-color: #2c2c2c;
        }

        th,
        td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
            transition: background-color 0.3s, color 0.3s;
        }

        body.dark-mode th,
        body.dark-mode td {
            color: #e0e0e0;
            border-color: #333;
        }

        th {
            background-color: #4CAF50;
            color: white;
            cursor: pointer;
        }

        body.dark-mode th {
            background-color: #6200ee;
        }

        tr:nth-child(even) {
            background-color: #f2f2f2;
        }

        body.dark-mode tr:nth-child(even) {
            background-color: #1f1f1f;
        }

        tr:hover {
            background-color: #ddd;
        }

        body.dark-mode tr:hover {
            background-color: #333;
        }

        button {
            display: block;
            width: 200px;
            margin: 20px auto;
            padding: 10px;
            background-color: #333;
            color: white;
            border: none;
            cursor: pointer;
            text-align: center;
            transition: background-color 0.3s, color 0.3s;
        }

        body.dark-mode button {
            background-color: #6200ee;
            color: #ffffff;
        }

        button:hover {
            background-color: #555;
        }

        body.dark-mode button:hover {
            background-color: #3700b3;
        }

        .search-bar {
            width: 60%;
            padding: 10px;
            font-size: 1.2rem;
            border: 2px solid #ccc;
            border-radius: 5px;
            margin: 20px auto;
            display: block;
        }

        .year-filter {
            width: 20%;
            padding: 10px;
            font-size: 1.2rem;
            border: 2px solid #ccc;
            border-radius: 5px;
            margin: 20px auto;
            display: block;
        }

        .search-button {
            display: block;
            width: 120px;
            margin: 20px auto;
            padding: 10px;
            background-color: #333;
            color: white;
            border: none;
            cursor: pointer;
            text-align: center;
            transition: background-color 0.3s, color 0.3s;
        }

        body.dark-mode .search-button {
            background-color: #6200ee;
            color: #ffffff;
        }

        .search-button:hover {
            background-color: #555;
        }

        body.dark-mode .search-button:hover {
            background-color: #3700b3;
        }

        .back-to-top {
            display: block;
            width: 200px;
            margin: 20px auto;
            padding: 10px;
            background-color: #333;
            color: white;
            border: none;
            cursor: pointer;
            text-align: center;
            transition: background-color 0.3s, color 0.3s;
        }

        body.dark-mode .back-to-top {
            background-color: #6200ee;
            color: #ffffff;
        }

        .back-to-top:hover {
            background-color: #555;
        }

        body.dark-mode .back-to-top:hover {
            background-color: #3700b3;
        }
    </style>
</head>

<body>

    <!-- Navigation Bar -->
    <div class="navbar">
        <a href="index.html" class="home-btn">HOME</a>
        <div class="menu-btn" onclick="toggleDropdown()">&#9776;</div>
    </div>

    <!-- Dropdown Menu -->
    <div class="dropdown-menu" id="dropdownMenu">
        <a href="archive.html">Archive</a>
        <a href="statistics.html">Statistics</a>
        <a href="history.html">History</a>
        <a href="tv_radio.html">TV | Radio</a>
        <a href="about.html">About Us</a>
        <a href="contact.html">Contact Us</a>
        <button class="mode-toggle" onclick="toggleDarkMode()">ðŸŒ“ Dark Mode</button>
    </div>

    <!-- Main Content -->
    <div class="container">
        <h1>Pre-Election Results</h1>

        <!-- Search Bar -->
        <input type="text" id="searchInput" class="search-bar" onkeyup="searchTable()" placeholder="Search for parties..">

        <!-- Year Filter -->
        <select id="yearFilter" class="year-filter" onchange="filterByYear()">
            <option value="">All Years</option>
            <option value="2021">2021</option>
            <option value="2017">2017</option>
            <option value="2016">2016</option>
            <option value="2012">2012</option>
            <option value="2010">2010</option>
        </select>

        <!-- Pre-Election 2021 -->
        <h2 data-year="2021">Pre Elekshon 2021 - 19/Mar/21</h2>
        <table border="1">
            <thead>
                <tr>
                    <th onclick="sortTable(this, 0)">Partido</th>
                    <th onclick="sortTable(this, 1)">Kantidad di Voto</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>MAVIS</td>
                    <td>758</td>
                </tr>
                <tr>
                    <td>UKN</td>
                    <td>520</td>
                </tr>
                <tr>
                    <td>TPK</td>
                    <td>2216</td>
                </tr>
                <tr>
                    <td>UKPK</td>
                    <td>1514</td>
                </tr>
                <tr>
                    <td>PBK</td>
                    <td>547</td>
                </tr>
                <tr>
                    <td>KAS</td>
                    <td>746</td>
                </tr>
                <tr>
                    <td>ATB</td>
                    <td>350</td>
                </tr>
                <tr>
                    <td>KUMUN</td>
                    <td>942</td>
                </tr>
                <tr>
                    <td>UP</td>
                    <td>627</td>
                </tr>
                <tr>
                    <td>KEM</td>
                    <td>2686</td>
                </tr>
                <tr>
                    <td>PAN</td>
                    <td>176</td>
                </tr>
                <tr>
                    <td>PNP</td>
                    <td>3374</td>
                </tr>
                <tr>
                    <td>MKP</td>
                    <td>1285</td>
                </tr>
                <tr>
                    <td>MPP</td>
                    <td>62</td>
                </tr>
                <tr>
                    <td>DP</td>
                    <td>1492</td>
                </tr>
                <tr>
                    <td>VISHON</td>
                    <td>1303</td>
                </tr>
            </tbody>
        </table>

        <!-- Pre-Election 2017 -->
        <h2 data-year="2017">Pre Elekshon 2017 - 28/Apr/17</h2>
        <table border="1">
            <thead>
                <tr>
                    <th onclick="sortTable(this, 0)">Partido</th>
                    <th onclick="sortTable(this, 1)">Kantidad di Voto</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>DP</td>
                    <td>603</td>
                </tr>
                <tr>
                    <td>PUSH</td>
                    <td>501</td>
                </tr>
                <tr>
                    <td>KOUSA PROME</td>
                    <td>1218</td>
                </tr>
                <tr>
                    <td>FOL-PAN</td>
                    <td>1124</td>
                </tr>
                <tr>
                    <td>PIN</td>
                    <td>2660</td>
                </tr>
                <tr>
                    <td>LIB KLAS KOM DI KORSO</td>
                    <td>113</td>
                </tr>
            </tbody>
        </table>

        <!-- Pre-Election 2016 -->
        <h2 data-year="2016">Pre Elekshon 2016 - 20/21-Aug-2016</h2>
        <table border="1">
            <thead>
                <tr>
                    <th onclick="sortTable(this, 0)">Partido</th>
                    <th onclick="sortTable(this, 1)">Kantidad di Voto</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>FOL</td>
                    <td>622</td>
                </tr>
                <tr>
                    <td>R 16</td>
                    <td>273</td>
                </tr>
                <tr>
                    <td>UKH</td>
                    <td>1361</td>
                </tr>
                <tr>
                    <td>PRIK</td>
                    <td>505</td>
                </tr>
                <tr>
                    <td>MP</td>
                    <td>1240</td>
                </tr>
                <tr>
                    <td>DP</td>
                    <td>1094</td>
                </tr>
                <tr>
                    <td>1 TIM MAGNO</td>
                    <td>378</td>
                </tr>
                <tr>
                    <td>FE</td>
                    <td>62</td>
                </tr>
                <tr>
                    <td>PAN</td>
                    <td>280</td>
                </tr>
                <tr>
                    <td>GOOL</td>
                    <td>205</td>
                </tr>
                <tr>
                    <td>UPM</td>
                    <td>49</td>
                </tr>
                <tr>
                    <td>PAS</td>
                    <td>1543</td>
                </tr>
                <tr>
                    <td>KdNT</td>
                    <td>2178</td>
                </tr>
                <tr>
                    <td>Pro Korsou</td>
                    <td>965</td>
                </tr>
                <tr>
                    <td>MKP</td>
                    <td>1122</td>
                </tr>
            </tbody>
        </table>

        <!-- Pre-Election 2012 -->
        <h2 data-year="2012">Pre Elekshon 2012 - 19/Oct/12</h2>
        <table border="1">
            <thead>
                <tr>
                    <th onclick="sortTable(this, 0)">Partido</th>
                    <th onclick="sortTable(this, 1)">Kantidad di Voto</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>PAIS</td>
                    <td>4195</td>
                </tr>
                <tr>
                    <td>DP/LABORAL</td>
                    <td>1019</td>
                </tr>
                <tr>
                    <td>PAN</td>
                    <td>449</td>
                </tr>
            </tbody>
        </table>

        <!-- Pre-Election 2010 -->
        <h2 data-year="2010">Pre Elekshon 2010 - 27/Aug/10</h2>
        <table border="1">
            <thead>
                <tr>
                    <th onclick="sortTable(this, 0)">Partido</th>
                    <th onclick="sortTable(this, 1)">Kantidad di Voto</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>ARTE REVOLUSH.</td>
                    <td>20</td>
                </tr>
                <tr>
                    <td>MFK</td>
                    <td>1427</td>
                </tr>
                <tr>
                    <td>PLKP</td>
                    <td>983</td>
                </tr>
                <tr>
                    <td>MOV.ALIANSA IND.</td>
                    <td>14</td>
                </tr>
                <tr>
                    <td>PAIS</td>
                    <td>889</td>
                </tr>
            </tbody>
        </table>

        <button class="back-to-top" onclick="scrollToTop()">Back to Top</button>
        <button onclick="window.location.href='elections.html'">Back to Elections</button>
    </div>

    <script>
        // Function to toggle Dark Mode
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
            let mode = document.body.classList.contains('dark-mode') ? 'dark' : 'light';
            localStorage.setItem('theme', mode);
        }

        // On page load, apply the saved theme
        window.onload = function () {
            let savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-mode');
            }
        }

        function toggleDropdown() {
            var dropdownMenu = document.getElementById('dropdownMenu');
            if (dropdownMenu.style.display === 'block') {
                dropdownMenu.style.display = 'none';
            } else {
                dropdownMenu.style.display = 'block';
            }
        }

        // Close dropdown if clicked outside
        window.onclick = function (event) {
            if (!event.target.matches('.menu-btn') && !event.target.matches('.mode-toggle')) {
                var dropdownMenu = document.getElementById('dropdownMenu');
                if (dropdownMenu.style.display === 'block') {
                    dropdownMenu.style.display = 'none';
                }
            }
        }

        // Function to sort table columns
        function sortTable(header, colIndex) {
            const table = header.parentElement.parentElement.parentElement;
            const tbody = table.querySelector('tbody');
            const rows = Array.from(tbody.rows);
            const isNumeric = !isNaN(rows[0].cells[colIndex].innerText);
            const currentSort = header.dataset.sort || 'asc';

            rows.sort((a, b) => {
                const aText = a.cells[colIndex].innerText;
                const bText = b.cells[colIndex].innerText;
                if (isNumeric) {
                    return currentSort === 'asc' ? aText - bText : bText - aText;
                } else {
                    return currentSort === 'asc' ? aText.localeCompare(bText) : bText.localeCompare(aText);
                }
            });

            header.dataset.sort = currentSort === 'asc' ? 'desc' : 'asc';

            rows.forEach(row => tbody.appendChild(row));
        }

        // Function to search table
        function searchTable() {
            const input = document.getElementById('searchInput');
            const filter = input.value.toLowerCase();
            const tables = document.querySelectorAll('table');

            let anyMatch = false;

            tables.forEach(table => {
                const rows = table.querySelectorAll('tbody tr');
                let tableMatch = false;
                rows.forEach(row => {
                    const cells = Array.from(row.cells);
                    const match = cells.some(cell => cell.textContent.toLowerCase().includes(filter));
                    if (match) {
                        row.style.display = '';
                        tableMatch = true;
                    } else {
                        row.style.display = 'none';
                    }
                });

                const heading = table.previousElementSibling; // Get the heading above the table
                if (tableMatch) {
                    table.style.display = '';
                    heading.style.display = ''; // Show the heading if there's a match
                    anyMatch = true;
                } else {
                    table.style.display = 'none';
                    heading.style.display = 'none'; // Hide the heading if no match
                }
            });

            // Show/hide back-to-top button based on search results
            const backToTopButton = document.querySelector('.back-to-top');
            backToTopButton.style.display = anyMatch ? 'block' : 'none';
        }

        // Function to filter tables by year
        function filterByYear() {
            const yearFilter = document.getElementById('yearFilter').value;
            const tables = document.querySelectorAll('table');
            const headings = document.querySelectorAll('h2[data-year]');

            headings.forEach(heading => {
                const year = heading.getAttribute('data-year');
                const table = heading.nextElementSibling;
                if (yearFilter === '' || year === yearFilter) {
                    heading.style.display = '';
                    table.style.display = '';
                } else {
                    heading.style.display = 'none';
                    table.style.display = 'none';
                }
            });
        }

        // Function to scroll to top
        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    </script>

</body>

</html>
